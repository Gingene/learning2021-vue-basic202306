<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>引出生命週期</title>
  </head>
  <body>
    <!-- 
				生命週期：
						1.又名：生命週期回呼函數、生命週期函數、生命週期鉤子。
						2.是什麼：Vue在關鍵時刻幫我們呼叫的一些特殊名稱的函數。
						3.生命週期函數的名字不可更改，但函數的具體內容是程式設計師根據需求編寫的。
						4.生命週期函數中的this指向是vm 或 元件實例對象。
		-->
    <div id="root">
      <h2 v-if="a">你好啊</h2>
      <h2 :style="{opacity}">歡迎學習Vue</h2>
    </div>
  </body>
  <script src="../js/vue.js"></script>
  <script async>
    Vue.config.productionTip = false;
  </script>
  <script>
    new Vue({
      el: "#root",
      data: {
        a: false,
        opacity: 1,
      },
      methods: {},
      // Vue完成模板的解析並把初始的真實DOM元素放入頁面後(掛載完畢)調用mounted
      mounted() {
        console.log("mounted");
        setInterval(() => {
          this.opacity -= 0.01;
          if (this.opacity <= 0) this.opacity = 1;
        }, 16);
      },
    });

    // 通過外部的定時器實現(不推薦)
    // setInterval(() => {
    //   vm.opacity -= 0.01;
    //   if (vm.opacity <= 0) vm.opacity = 1;
    // }, 16);
  </script>
</html>
