<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>回顧Object.defineProperty方法</title>
  </head>
  <body></body>

  <script>
    let person = {
      name: "Genesis",
      gender: "male",
    };
    let number = 18;

    Object.defineProperty(person, "age", {
      //   value: 18,
      //   enumerable: true, // 控制屬性是否可以枚舉，默認值是false
      //   writable: true, // 控制屬性是否可以被修改，默認值是false
      //   configurable: true // 控制屬性是否可以被刪除，默認值是false

      // 當有人讀取person的age屬性時，get函數(getter)就會被調用，且返回值就是age的值
      get() {
        console.log("有人讀取age屬性了");
        return number;
      },

      // 當有修改person的age屬性時，set函數(setter)就會被調用，且會收到修改的具體值
      set(value) {
        console.log("有人修改了age屬性了, 且值是", value);
        number = value;
      },
    });
    // 不可枚舉
    // 值不可更改
    // 不可被刪除

    console.log(Object.keys(person));

    // delete person.name;

    console.log(person);
  </script>
</html>
